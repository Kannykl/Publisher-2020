{% extends "publications_table/main.html" %}{% load crispy_forms_tags %}{% block content %}{% load widget_tweaks %}{% load static %}<body><div class="body">  <div class="container_1">    {% if clear_publications %}    <table class="striped">      <thead>        <tr>          <th></th>          <th><a href="{% url 'sort' 1 %}">Название</a></th>          <th><a href="{% url 'sort' 2 %}">Издание</a></th>          <th><a href="{% url 'sort' 3 %}">Год публикации</a></th>          <th><a href="{% url 'sort' 4 %}">Тип публикации</a></th>          <th><a href="{% url 'sort' 5 %}">Диапазон</a></th>          <th><a href="{% url 'sort' 6 %}">Номер УК</a></th>        </tr>      </thead>      <tbody>        {% for publication in publications%}          <tr>            <td>              <form action="" method="get">            <p>              <label>                <input type="checkbox" name="select" value= '{{ publication.id }}' id='id_select_{{forloop.counter0}}'>                <span></span>              </label>            </p>            </td>            <td>              {% if messages %}              {% for message in messages %}              <a class="tooltipped" href="{% url 'info' publication.id %}" data-position="right" data-tooltip='{{message}}'>                {{publication.title}}              </a>              {% endfor %}              {% else %}              <a href="{% url 'info' publication.id %}">                {{publication.title}}              </a>              {% endif %}            </td>            <td>{{publication.edition}}</td>            {% if publication.published_year == None %}            <td></td>            {% else %}            <td>{{publication.published_year}}</td>            {% endif %}            {% if publication.type_of_publication == None %}            <td></td>            {% else %}            <td>{{publication.type_of_publication}}</td>            {% endif %}            <td>{{publication.range}}</td>            {% if publication.uk_number == None %}            <td></td>            {% else %}            <td>{{publication.uk_number}}</td>            {% endif %}            <td><a class="btn-secondary btn-sm mt-1 mb-1" href="{% url 'publication-update' publication.id %}"><img src="{% static 'images/update_picture.jpg'%}" width="20" height="20"></a></td>            <td><a class="btn-secondary btn-sm mt-1 mb-1" href="{% url 'publication-delete' publication.id %}"><img src="{% static 'images/delete_picture.png'%}" width="20" height="20"></a></td>          </tr>        {% endfor %}      </tbody>    </table>    {% else %}    <p class="myalert">Таблица пока что пустая</p>    {% endif %}    <div class="sidebar">      <div class="wrapper">        <div class="input-field col s6">          {% render_field form3.file_name class="validate" id="file-name" type="text"%}          <label for="file-name">Название файла</label>          <button type="submit" class="waves-effect waves-light btn-small">Экспорт </button>                  {% if table %}                  <p><a  href="{{ table.file.url }}" download="{{ table.file.url }}">Скачать</a></p>                  {% endif %}          </div>        </form>        <div class="filter">          <p class="text">Год издания:</p>            <form action="" method="get">              <div class="input-field col s6">              {% render_field form.min_year class="validate" id="start_at" type="text"%}              <label for="start_at">c</label>              </div>              <div class="input-field col s6">              {% render_field form.max_year class="validate" id="finish_to" type="text"%}              <label for="finish_to">по</label>              </div>              {% for x in form.type_of_publication %}              <p>                <label>                   <input type="checkbox" name="type_of_publication"  value='{% spaceless %}{{x|striptags}}{%endspaceless %}'/>                   <span>{% spaceless %}{{x|striptags}}{%endspaceless %}</span>                </label>              </p>              {% endfor %}            <button type="submit" class="btn waves-effect waves-light">Показать результаты</button>            </form>        </div>        <div class="loading"></div>          <div class="input-field col s6">            <form action="{% url 'json_search' %}" method="get" name="search">              <div class="input-field col s6">              {% render_field form2.search class="validate" id="search" type="text" %}              <label for="search">Поиск</label>              <button type="submit" class="waves-effect waves-light btn-small">Найти</button>              </div>            </form>        </div>      </div>    </div>  </div></div>{% if publications%}<div class="ul_wrapper">  <ul class="pagination">    {% for n in publications.paginator.page_range %}        {% if publications.number == n %}    <li class="active waves-effect"><a href="?page={{n}}">{{n}}</a></li>    {% elif n > publications.number|add:-2 and n < publications.number|add:2%}    <li class="waves-effect"><a href="?page={{n}}">{{n}}</a></li>        {% endif %}    {% endfor %}  </ul></div>{% endif %}</body>{% if messages %}<script>document.addEventListener('DOMContentLoaded', function() {  var elems = document.querySelectorAll('.tooltipped');  var instances = M.Tooltip.init(elems, {exitDelay: 2000 });  var elem = document.querySelector('.tooltipped');  var instance = M.Tooltip.getInstance(elem);  instance.open();  instance.close();});</script>{% endif %}<script src="{% static 'js/hogan.js' %}"></script><script src="{% static 'js/hogan.min.js' %}"></script><script src="{% static 'js/script.js' %}"></script>{% endblock content %}